<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SoupMultipart</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="libsoup Reference Manual">
<link rel="up" href="ch02.html" title="Core API">
<link rel="prev" href="libsoup-24-soup-method.html" title="soup-method">
<link rel="next" href="SoupServer.html" title="SoupServer">
<meta name="generator" content="GTK-Doc V1.11 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="Tutorial">
<link rel="chapter" href="ch02.html" title="Core API">
<link rel="chapter" href="ch03.html" title="Additional Features">
<link rel="chapter" href="ch04.html" title="Web Services APIs">
<link rel="chapter" href="ch05.html" title="GNOME integration">
<link rel="chapter" href="ch06.html" title="Low-level Networking API">
<link rel="index" href="ix01.html" title="Index">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libsoup-24-soup-method.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libsoup Reference Manual</th>
<td><a accesskey="n" href="SoupServer.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#libsoup-24-SoupMultipart.synopsis" class="shortcut">Top</a>
                 | 
                <a href="#libsoup-24-SoupMultipart.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry" title="SoupMultipart">
<a name="libsoup-24-SoupMultipart"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libsoup-24-SoupMultipart.top_of_page"></a>SoupMultipart</span></h2>
<p>SoupMultipart — multipart HTTP message bodies</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="libsoup-24-SoupMultipart.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
typedef             <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a>;
<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *     <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-new" title="soup_multipart_new ()">soup_multipart_new</a>                  (const char *mime_type);
<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *     <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-new-from-message" title="soup_multipart_new_from_message ()">soup_multipart_new_from_message</a>     (<a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders">SoupMessageHeaders</a> *headers,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody">SoupMessageBody</a> *body);
void                <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-free" title="soup_multipart_free ()">soup_multipart_free</a>                 (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart);

int                 <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-get-length" title="soup_multipart_get_length ()">soup_multipart_get_length</a>           (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart);
<a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"
>gboolean</a>            <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-get-part" title="soup_multipart_get_part ()">soup_multipart_get_part</a>             (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         int part,
                                                         <a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders">SoupMessageHeaders</a> **headers,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupBuffer" title="SoupBuffer">SoupBuffer</a> **body);
void                <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-append-part" title="soup_multipart_append_part ()">soup_multipart_append_part</a>          (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         <a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders">SoupMessageHeaders</a> *headers,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupBuffer" title="SoupBuffer">SoupBuffer</a> *body);
void                <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-append-form-string" title="soup_multipart_append_form_string ()">soup_multipart_append_form_string</a>   (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         const char *control_name,
                                                         const char *data);
void                <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-append-form-file" title="soup_multipart_append_form_file ()">soup_multipart_append_form_file</a>     (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         const char *control_name,
                                                         const char *filename,
                                                         const char *content_type,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupBuffer" title="SoupBuffer">SoupBuffer</a> *body);
void                <a class="link" href="libsoup-24-SoupMultipart.html#soup-multipart-to-message" title="soup_multipart_to_message ()">soup_multipart_to_message</a>           (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         <a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders">SoupMessageHeaders</a> *dest_headers,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody">SoupMessageBody</a> *dest_body);
</pre>
</div>
<div class="refsect1" title="Description">
<a name="libsoup-24-SoupMultipart.description"></a><h2>Description</h2>
<p>
</p>
<p>
</p>
</div>
<div class="refsect1" title="Details">
<a name="libsoup-24-SoupMultipart.details"></a><h2>Details</h2>
<div class="refsect2" title="SoupMultipart">
<a name="SoupMultipart"></a><h3>SoupMultipart</h3>
<pre class="programlisting">typedef struct SoupMultipart SoupMultipart;
</pre>
<p>
Represents a multipart HTTP message body, parsed according to the
syntax of RFC 2046. Of particular interest to HTTP are
<code class="literal">multipart/byte-ranges</code> and
<code class="literal">multipart/form-data</code>.
</p>
<p>
Although the headers of a <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a> body part will contain the
full headers from that body part, libsoup does not interpret them
according to MIME rules. For example, each body part is assumed to
have "binary" Content-Transfer-Encoding, even if its headers
explicitly state otherwise. In other words, don't try to use
<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a> for handling real MIME multiparts.</p>
<p>
</p>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_new ()">
<a name="soup-multipart-new"></a><h3>soup_multipart_new ()</h3>
<pre class="programlisting"><a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *     soup_multipart_new                  (const char *mime_type);</pre>
<p>
Creates a new empty <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a> with a randomly-generated
boundary string. Note that <em class="parameter"><code>mime_type</code></em> must be the full MIME type,
including "multipart/".</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>mime_type</code></em> :</span></p></td>
<td> the MIME type of the multipart to create.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a new empty <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a> of the given <em class="parameter"><code>mime_type</code></em>

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_new_from_message ()">
<a name="soup-multipart-new-from-message"></a><h3>soup_multipart_new_from_message ()</h3>
<pre class="programlisting"><a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *     soup_multipart_new_from_message     (<a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders">SoupMessageHeaders</a> *headers,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody">SoupMessageBody</a> *body);</pre>
<p>
Parses <em class="parameter"><code>headers</code></em> and <em class="parameter"><code>body</code></em> to form a new <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a></p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>headers</code></em> :</span></p></td>
<td> the headers of the HTTP message to parse
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>body</code></em> :</span></p></td>
<td> the body of the HTTP message to parse
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a new <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a> (or <code class="literal">NULL</code> if the message couldn't
be parsed or wasn't multipart).

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_free ()">
<a name="soup-multipart-free"></a><h3>soup_multipart_free ()</h3>
<pre class="programlisting">void                soup_multipart_free                 (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart);</pre>
<p>
Frees <em class="parameter"><code>multipart</code></em></p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>multipart</code></em> :</span></p></td>
<td> a <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a>
</td>
</tr></tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_get_length ()">
<a name="soup-multipart-get-length"></a><h3>soup_multipart_get_length ()</h3>
<pre class="programlisting">int                 soup_multipart_get_length           (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart);</pre>
<p>
Gets the number of body parts in <em class="parameter"><code>multipart</code></em></p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>multipart</code></em> :</span></p></td>
<td> a <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the number of body parts in <em class="parameter"><code>multipart</code></em>

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_get_part ()">
<a name="soup-multipart-get-part"></a><h3>soup_multipart_get_part ()</h3>
<pre class="programlisting"><a
href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"
>gboolean</a>            soup_multipart_get_part             (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         int part,
                                                         <a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders">SoupMessageHeaders</a> **headers,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupBuffer" title="SoupBuffer">SoupBuffer</a> **body);</pre>
<p>
Gets the indicated body part from <em class="parameter"><code>multipart</code></em>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>multipart</code></em> :</span></p></td>
<td> a <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>part</code></em> :</span></p></td>
<td> the part number to get (counting from 0)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>headers</code></em> :</span></p></td>
<td> return location for the MIME part headers
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>body</code></em> :</span></p></td>
<td> return location for the MIME part body
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <code class="literal">TRUE</code> on success, <code class="literal">FALSE</code> if <em class="parameter"><code>part</code></em> is out of range (in
which case <em class="parameter"><code>headers</code></em> and <em class="parameter"><code>body</code></em> won't be set)

</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_append_part ()">
<a name="soup-multipart-append-part"></a><h3>soup_multipart_append_part ()</h3>
<pre class="programlisting">void                soup_multipart_append_part          (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         <a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders">SoupMessageHeaders</a> *headers,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupBuffer" title="SoupBuffer">SoupBuffer</a> *body);</pre>
<p>
Adds a new MIME part to <em class="parameter"><code>multipart</code></em> with the given headers and body.
(The multipart will make its own copies of <em class="parameter"><code>headers</code></em> and <em class="parameter"><code>body</code></em>, so
you should free your copies if you are not using them for anything
else.)</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>multipart</code></em> :</span></p></td>
<td> a <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>headers</code></em> :</span></p></td>
<td> the MIME part headers
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>body</code></em> :</span></p></td>
<td> the MIME part body
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_append_form_string ()">
<a name="soup-multipart-append-form-string"></a><h3>soup_multipart_append_form_string ()</h3>
<pre class="programlisting">void                soup_multipart_append_form_string   (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         const char *control_name,
                                                         const char *data);</pre>
<p>
Adds a new MIME part containing <em class="parameter"><code>data</code></em> to <em class="parameter"><code>multipart</code></em>, using
"Content-Disposition: form-data", as per the HTML forms
specification. See <a class="link" href="libsoup-24-HTML-Form-Support.html#soup-form-request-new-from-multipart" title="soup_form_request_new_from_multipart ()"><code class="function">soup_form_request_new_from_multipart()</code></a> for more
details.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>multipart</code></em> :</span></p></td>
<td> a multipart (presumably of type "multipart/form-data")
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>control_name</code></em> :</span></p></td>
<td> the name of the control associated with <em class="parameter"><code>data</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>data</code></em> :</span></p></td>
<td> the body data
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_append_form_file ()">
<a name="soup-multipart-append-form-file"></a><h3>soup_multipart_append_form_file ()</h3>
<pre class="programlisting">void                soup_multipart_append_form_file     (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         const char *control_name,
                                                         const char *filename,
                                                         const char *content_type,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupBuffer" title="SoupBuffer">SoupBuffer</a> *body);</pre>
<p>
Adds a new MIME part containing <em class="parameter"><code>body</code></em> to <em class="parameter"><code>multipart</code></em>, using
"Content-Disposition: form-data", as per the HTML forms
specification. See <a class="link" href="libsoup-24-HTML-Form-Support.html#soup-form-request-new-from-multipart" title="soup_form_request_new_from_multipart ()"><code class="function">soup_form_request_new_from_multipart()</code></a> for more
details.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>multipart</code></em> :</span></p></td>
<td> a multipart (presumably of type "multipart/form-data")
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>control_name</code></em> :</span></p></td>
<td> the name of the control associated with this file
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename</code></em> :</span></p></td>
<td> the name of the file, or <code class="literal">NULL</code> if not known
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>content_type</code></em> :</span></p></td>
<td> the MIME type of the file, or <code class="literal">NULL</code> if not known
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>body</code></em> :</span></p></td>
<td> the file data
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_multipart_to_message ()">
<a name="soup-multipart-to-message"></a><h3>soup_multipart_to_message ()</h3>
<pre class="programlisting">void                soup_multipart_to_message           (<a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart">SoupMultipart</a> *multipart,
                                                         <a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders">SoupMessageHeaders</a> *dest_headers,
                                                         <a class="link" href="libsoup-24-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody">SoupMessageBody</a> *dest_body);</pre>
<p>
Serializes <em class="parameter"><code>multipart</code></em> to <em class="parameter"><code>dest_headers</code></em> and <em class="parameter"><code>dest_body</code></em>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>multipart</code></em> :</span></p></td>
<td> a <a class="link" href="libsoup-24-SoupMultipart.html#SoupMultipart" title="SoupMultipart"><span class="type">SoupMultipart</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dest_headers</code></em> :</span></p></td>
<td> the headers of the HTTP message to serialize <em class="parameter"><code>multipart</code></em> to
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dest_body</code></em> :</span></p></td>
<td> the body of the HTTP message to serialize <em class="parameter"><code>multipart</code></em> to
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
</div>
<div class="refsect1" title="See Also">
<a name="libsoup-24-SoupMultipart.see-also"></a><h2>See Also</h2>
#SoupMessageBody, <a class="link" href="libsoup-24-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders"><span class="type">SoupMessageHeaders</span></a>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.11</div>
</body>
</html>
